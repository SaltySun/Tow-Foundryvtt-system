{{!-- Army Sheet Template --}}
<form class="army-sheet-form">
  <header class="sheet-header">
    <div class="header-fields">
      <h1 class="charname">
        <input name="name" type="text" value="{{actor.name}}" placeholder="{{localize 'battlefield-system.Sheet.Army.Name'}}" />
      </h1>
      <div class="charlevel">
        <label>{{localize 'battlefield-system.Sheet.Army.Faction'}}:</label>
        <input name="system.faction" type="text" value="{{system.faction}}" placeholder="{{localize 'battlefield-system.Sheet.Army.Faction'}}" />
      </div>
    </div>
  </header>

  <nav class="sheet-tabs tabs" data-group="primary">
    <a class="item" data-tab="main">{{localize 'battlefield-system.Tabs.Main'}}</a>
    <a class="item" data-tab="heroes">{{localize 'battlefield-system.Sheet.Army.Heroes'}}</a>
    <a class="item" data-tab="status">{{localize 'battlefield-system.Sheet.Army.StatusEffects'}}</a>
  </nav>

  <section class="sheet-body">
    {{!-- Main Tab --}}
    <div class="tab" data-tab="main">
      <div class="form-group">
        <label>{{localize 'battlefield-system.Sheet.Army.Description'}}:</label>
        <textarea name="system.description" rows="4">{{system.description}}</textarea>
      </div>
      
      {{!-- <div class="grid grid-2col">
        <div class="form-group">
          <label>{{localize 'battlefield-system.Sheet.Army.Size'}}:</label>
          <input name="system.size" type="number" value="{{system.size}}" min="0" />
        </div>
        <div class="form-group">
          <label>实力评级:</label>
          <input name="system.powerRating" type="number" value="{{system.powerRating}}" min="0" max="100" />
        </div>
      </div> --}}
      
      <div class="form-group">
        <label>荣誉军团:</label>
        <textarea name="system.honoredLegions" rows="4">{{system.honoredLegions}}</textarea>
      </div>
      
      <div class="form-group">
        <label>特殊能力:</label>
        <textarea name="system.specialAbilities" rows="4">{{system.specialAbilities}}</textarea>
      </div>
    </div>

    {{!-- Heroes Tab --}}
    <div class="tab" data-tab="heroes">
      <div class="heroes-list">
        {{#each system.heroes as |hero index|}}
        <div class="hero-card">
          <div class="hero-header">
            <h3>英雄 #{{add index 1}}</h3>
            <button type="button" class="remove-hero" data-index="{{index}}"><i class="fas fa-trash"></i></button>
          </div>
          <div class="form-group">
            <label>姓名:</label>
            <input name="hero-name-{{index}}" type="text" value="{{hero.name}}" placeholder="英雄姓名" />
          </div>
          <div class="form-group">
            <label>装备:</label>
            <textarea name="hero-equipment-{{index}}" rows="2" placeholder="装备">{{hero.equipment}}</textarea>
          </div>
          <div class="form-group">
            <label>成长特性:</label>
            <textarea name="hero-traits-{{index}}" rows="3" placeholder="成长特性">{{hero.traits}}</textarea>
          </div>
        </div>
        {{/each}}
      </div>
      <button type="button" class="add-hero"><i class="fas fa-plus"></i> {{localize 'battlefield-system.Buttons.Add'}} {{localize 'battlefield-system.Sheet.Army.Heroes'}}</button>
    </div>

    {{!-- Status Tab --}}
    <div class="tab" data-tab="status">
      <div class="status-effects">
        <div class="status-header">
          <h3>{{localize 'battlefield-system.Sheet.Army.StatusEffects'}}</h3>
          <button type="button" class="add-status-btn" data-action="create-status">
            <i class="fas fa-plus"></i> 添加状态
          </button>
        </div>
        
        {{!-- 状态列表 --}}
        <div class="status-list">
          {{#each statusEffects as |status|}}
          <div class="status-item">
            <div class="status-header">
              <div class="status-info">
                <img src="{{status.icon}}" alt="{{status.name}}" title="{{status.name}}" class="status-icon" />
                <input type="text" class="status-name" value="{{status.name}}" data-status-id="{{status.id}}" placeholder="状态名称" />
              </div>
              <button type="button" class="remove-status" data-status-id="{{status.id}}">
                <i class="fas fa-times"></i>
              </button>
            </div>
            <div class="status-description">
              <textarea class="status-description-input" data-status-id="{{status.id}}" placeholder="输入状态描述...">{{status.system.description}}</textarea>
            </div>
          </div>
          {{/each}}
          {{#unless statusEffects.length}}
          <div class="no-status">
            <p>暂无状态。点击上方"添加状态"按钮创建第一个状态。</p>
          </div>
          {{/unless}}
        </div>
      </div>
    </div>
  </section>
</form>